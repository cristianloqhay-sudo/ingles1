<!DOCTYPE html>
<html>
  <head>
    <title>Hello, World!</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
      <h1 class="title">Hello World! </h1>
      <p id="currentTime"></p>
      <script src="script.js"></script>
  </body>
</html><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√©xico Ingl√©s Interactivo - Tu Gu√≠a Diaria</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        /* Custom Font Imports if needed, using system fonts for performance */
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
        
        /* Card Flip Animation */
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        /* Custom Scrollbar for better aesthetics */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        /* SCROLLBAR ACCENT COLOR: Bright Blue */
        ::-webkit-scrollbar-thumb { background: #3B82F6; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #2563EB; }

        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Base Social Button Styling */
        .social-btn {
            @apply flex items-center justify-center p-3 rounded-lg text-white transition-all duration-200 hover:scale-[1.05] shadow-md;
        }
        /* Specific styling for logo-only buttons */
        .social-logo-btn {
            @apply w-12 h-12 flex-none; /* Fixed size for clean logo display */
        }

        /* Quiz Specific Styles */
        /* Updated quiz-option to look like a proper button */
        .quiz-option {
            @apply w-full text-left p-3 mb-3 bg-gray-100 rounded-lg cursor-pointer transition-colors duration-200 shadow-sm hover:bg-gray-200 border-2 border-transparent;
        }
        .quiz-option.selected {
            /* ACCENT COLOR: Bright Blue */
            @apply ring-2 ring-offset-2 ring-[#3B82F6] bg-[#EBF5FF] border-[#3B82F6];
        }
    </style>
    <!-- Chosen Palette: Navy Blue & Light Gray -->
    <!-- Background: #F4F7F9 (Light Gray/White) -->
    <!-- Primary: #1E3A8A (Deep Blue / Navy) -->
    <!-- Secondary: #9CA3AF (Medium Gray) -->
    <!-- Accent: #3B82F6 (Bright Blue) -->
</head>
<body class="bg-[#F4F7F9] text-gray-800 h-screen overflow-hidden flex flex-col md:flex-row">

    <!-- Application Structure Plan: 
         1. Sidebar Navigation: Persistent access to all learning modules (Greetings, Numbers, etc.).
         2. Main Content Area: Dynamic switching based on selection.
         3. Dashboard (Home): High-level overview using a Chart to show course composition.
         4. Learning Modules: Grid layouts of interactive "Flip Cards" for vocabulary.
         5. Footer/CTA: Persistent encouragement to join the community.
         Rationale: This structure breaks the long PDF into digestible, interactive chunks, preventing cognitive overload.
    -->

    <!-- Mobile Header -->
    <header class="md:hidden bg-[#1E3A8A] text-white p-4 flex justify-between items-center z-20 shadow-md">
        <h1 class="text-xl font-bold">üá∫üá∏ L√©xico Ingl√©s</h1>
        <button id="mobile-menu-btn" class="text-white focus:outline-none">
            <span class="text-2xl">‚ò∞</span>
        </button>
    </header>

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="transform -translate-x-full md:translate-x-0 transition-transform duration-300 fixed md:relative z-10 w-64 h-full bg-[#1E3A8A] text-white flex flex-col shadow-xl">
        <div class="p-6 border-b border-[#9CA3AF]/30 hidden md:block">
            <h1 class="text-2xl font-bold tracking-wide">üá∫üá∏ Ingl√©s<br><span class="text-sm font-normal text-[#C5D0E3]">para el Uso Diario</span></h1>
        </div>
        
        <!-- REMOVED: Start button as per user request -->

        <div class="flex-1 overflow-y-auto py-4">
            <ul class="space-y-1">
                <li><button onclick="app.navigate('home')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors bg-[#3B5998] font-semibold border-l-4 border-[#3B82F6]" data-target="home">üè† Inicio / Dashboard</button></li>
                <li><button onclick="app.navigate('saludos')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="saludos">üëã Saludos y B√°sicos</button></li>
                <li><button onclick="app.navigate('presentacion')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="presentacion">ü§ù Presentaciones</button></li>
                <li><button onclick="app.navigate('numeros')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="numeros">üî¢ N√∫meros (1-10)</button></li>
                <li><button onclick="app.navigate('colores')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="colores">üé® Colores</button></li>
                <li><button onclick="app.navigate('animales')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="animales">üê∂ Animales y Casa</button></li>
                <li><button onclick="app.navigate('viajes')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="viajes">‚úàÔ∏è Viajes y Salud</button></li>
                <li><button onclick="app.navigate('clima')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="clima">‚òÄÔ∏è Clima y Tiempo</button></li>
                <!-- QUIZ NAVIGATION ITEM ADDED -->
                <li><button onclick="app.navigate('quiz')" class="nav-item w-full text-left px-6 py-3 hover:bg-[#3B5998] transition-colors border-l-4 border-transparent" data-target="quiz">üß† Test de Vocabulario</button></li>
            </ul>
        </div>

        <div class="p-6 bg-[#162954] mt-auto">
            <p class="text-xs text-[#C5D0E3] mb-2">Progreso de sesi√≥n</p>
            <div class="w-full bg-[#3B5998] rounded-full h-2.5">
                <div id="progress-bar" class="bg-[#3B82F6] h-2.5 rounded-full" style="width: 0%"></div>
            </div>
            <p class="text-xs text-center mt-2 text-[#C5D0E3]" id="progress-text">0/7 Temas explorados</p>
        </div>
    </nav>
    <!-- End Sidebar Navigation -->

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto relative p-4 md:p-8" id="main-content">
        
        <!-- View: Home / Dashboard -->
        <section id="view-home" class="max-w-4xl mx-auto animate-fade-in">
            <div class="mb-8 text-center md:text-left">
                <h2 class="text-3xl font-bold text-[#1E3A8A] mb-2">Welcome! ¬°Bienvenido!</h2>
                <p class="text-gray-600">Esta aplicaci√≥n interactiva est√° dise√±ada para ayudarte a dominar el vocabulario **ingl√©s** esencial. Explora las categor√≠as en el men√∫ para comenzar.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <!-- Info Card -->
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-[#3B82F6]">
                    <h3 class="font-bold text-xl mb-4 text-[#1E3A8A]">C√≥mo usar esta App</h3>
                    <ul class="space-y-3 text-sm text-gray-700">
                        <li class="flex items-start"><span class="mr-2 text-[#3B82F6]">‚û§</span> Navega por los temas usando el men√∫ lateral.</li>
                        <li class="flex items-start"><span class="mr-2 text-[#3B82F6]">‚û§</span> <strong>Haz clic en las tarjetas</strong> para revelar la frase de ejemplo.</li>
                        <li class="flex items-start"><span class="mr-2 text-[#3B82F6]">‚û§</span> Practica en voz alta usando la gu√≠a fon√©tica simplificada.</li>
                        <li class="flex items-start font-bold text-[#3B82F6]"><span class="mr-2 text-[#3B82F6]">‚û§</span> ¬°Haz el **Test de Vocabulario** para saber tu nivel de ingl√©s!</li>
                    </ul>
                </div>

                <!-- Visualization: Content Distribution -->
                <!-- Visualization & Content Choices: 
                     Goal: Organize/Inform - Show the user the scope of learning material.
                     Method: Doughnut Chart (Chart.js).
                     Interaction: Hover to see topic counts.
                     Justification: Provides a quick visual summary of the curriculum balance without reading a list.
                -->
                <div class="bg-white p-6 rounded-xl shadow-md flex flex-col items-center justify-center">
                    <h3 class="font-bold text-lg mb-2 text-[#1E3A8A]">Composici√≥n del Vocabulario</h3>
                    <div class="chart-container">
                        <canvas id="contentChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Call to Action Banner (Updated section: logos and names) -->
            <div class="bg-[#E5E7EB] rounded-xl p-6 text-center shadow-inner">
                <h3 class="text-[#1E3A8A] font-bold text-lg mb-2">¬°√önete a la Comunidad y Sigue Aprendiendo!</h3>
                <p class="text-sm text-[#374151] mb-6">S√≠guenos en redes para m√°s tips y contenido gratuito, o empieza tu curso digital ahora.</p>
                
                <div class="flex flex-wrap justify-center gap-6 mb-4">
                    
                    <div class="flex flex-col items-center">
                        <!-- Instagram Logo Button (Unicode Icon: Camera) -->
                        <a href="https://www.instagram.com/lexigo2.0/" target="_blank" class="social-btn social-logo-btn bg-pink-600" onclick="return true;">
                            <span class="text-2xl">üì∑</span>
                        </a>
                        <span class="text-xs mt-1 font-semibold text-gray-700">Instagram</span>
                    </div>

                    <div class="flex flex-col items-center">
                        <!-- Facebook Logo Button (Unicode Icon: Thumbs Up) -->
                        <a href="https://www.facebook.com/profile.php?id=61583705050960" target="_blank" class="social-btn social-logo-btn bg-blue-600" onclick="return true;">
                            <span class="text-2xl">üëç</span>
                        </a>
                        <span class="text-xs mt-1 font-semibold text-gray-700">Facebook</span>
                    </div>

                    <div class="flex flex-col items-center">
                        <!-- TikTok Logo Button (Unicode Icon: Music Note) -->
                        <a href="https://www.tiktok.com/@lexigo2.0" target="_blank" class="social-btn social-logo-btn bg-gray-800" onclick="return true;">
                            <span class="text-2xl">üéµ</span>
                        </a>
                        <span class="text-xs mt-1 font-semibold text-gray-700">TikTok</span>
                    </div>
                </div>

                <!-- Digital Course Button (Full Width, Accent Color, with text) -->
                <a href="https://go.hotmart.com/C103156556U" target="_blank" class="social-btn bg-[#3B82F6] w-full text-lg font-bold hover:bg-[#2563EB] mt-4" onclick="return true;">
                    <span class="text-xl mr-2">üìö</span>
                    Iniciar Curso Digital
                </a>
            </div>
        </section>

        <!-- View: Cards Template (Content injected via JS) -->
        <section id="view-cards" class="hidden max-w-5xl mx-auto">
            <div class="mb-6 border-b border-gray-200 pb-4">
                <h2 id="section-title" class="text-3xl font-bold text-[#1E3A8A]">T√≠tulo Secci√≥n</h2>
                <p id="section-desc" class="text-gray-600 mt-2">Descripci√≥n de la secci√≥n.</p>
            </div>
            
            <div id="cards-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards injected here -->
            </div>
        </section>

        <!-- NEW View: Quiz -->
        <section id="view-quiz" class="hidden max-w-2xl mx-auto p-4 bg-white rounded-xl shadow-lg border-t-4 border-[#1E3A8A]">
            <h2 class="text-3xl font-bold text-[#1E3A8A] mb-4 text-center">üß† Test de Vocabulario</h2>
            <div id="quiz-container">
                <!-- Quiz content (question/options/results) injected here -->
            </div>
            <div class="flex justify-between items-center mt-6">
                <p id="quiz-status" class="text-sm font-semibold text-gray-600"></p>
                <!-- NOTE: The Next/Results button is now hidden and advance happens automatically -->
                <button id="quiz-next-btn" class="hidden bg-[#1E3A8A] text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-[#3B5998] transition-colors">
                    Siguiente Pregunta
                </button>
            </div>
        </section>

    </main>

    <!-- Overlay for mobile menu -->
    <div id="overlay" class="fixed inset-0 bg-black opacity-50 z-0 hidden md:hidden"></div>

    <!-- JavaScript Logic -->
    <script>
        // Data Store: English (it) -> Spanish (es)

        const data = {
            saludos: {
                title: "Saludos y Expresiones B√°sicas",
                desc: "'Hello' y 'Goodbye' son esenciales. 'Please' y 'Thank You' son cortes√≠as fundamentales.",
                items: [
                    { it: "Hello", pron: "jel√≥u", es: "Hola", context: "Saludo com√∫n", fraseIt: "Hello, nice to meet you.", fraseEs: "Hola, encantado de conocerte.", frasePron: "jel√≥u, n√°is tu m√≠t yu" },
                    { it: "Goodbye", pron: "gudb√°i", es: "Adi√≥s", context: "Despedida", fraseIt: "Goodbye, see you tomorrow.", fraseEs: "Adi√≥s, te veo ma√±ana.", frasePron: "gudb√°i, s√≠ yu tum√≥rrou" },
                    { it: "Good morning", pron: "gud m√≥rnin", es: "Buenos d√≠as", context: "Formal (Ma√±ana)", fraseIt: "Good morning, I need a taxi.", fraseEs: "Buenos d√≠as, necesito un taxi.", frasePron: "gud m√≥rnin, ai nid e t√°xi" },
                    { it: "Good evening", pron: "gud √≠vnin", es: "Buenas tardes", context: "Formal (Tarde/Noche)", fraseIt: "Good evening, is this table free?", fraseEs: "Buenas tardes, ¬øest√° libre esta mesa?", frasePron: "gud √≠vnin, is dis t√©ibol fr√≠?" },
                    { it: "Thank you", pron: "z√©nk yu", es: "Gracias", context: "Cortes√≠a esencial", fraseIt: "Thank you for your help.", fraseEs: "Gracias por tu ayuda.", frasePron: "z√©nk yu for yor jelp" },
                    { it: "Please", pron: "pl√≠is", es: "Por favor", context: "Para pedir algo", fraseIt: "Can I have the menu, please?", fraseEs: "¬øMe puede dar el men√∫, por favor?", frasePron: "kan ai jav de meni√∫, pl√≠is?" },
                    { it: "Excuse me", pron: "eks-ki√∫s mi", es: "Disculpa / Disculpe", context: "Para llamar la atenci√≥n", fraseIt: "Excuse me, where is the station?", fraseEs: "Disculpe, ¬ød√≥nde est√° la estaci√≥n?", frasePron: "eks-ki√∫s mi, u√©r is de st√©ishen?" },
                    { it: "How are you?", pron: "j√°u ar iu", es: "¬øC√≥mo est√°s?", context: "Pregunta com√∫n", fraseIt: "I'm fine, how are you?", fraseEs: "Estoy bien, ¬øy t√∫?", frasePron: "aim f√°in, j√°u ar iu?" }
                ]
            },
            presentacion: {
                title: "Presentaciones Personales",
                desc: "Frases clave para hablar de ti mismo y conocer a otros.",
                items: [
                    { it: "My name is...", pron: "m√°i n√©im is", es: "Mi nombre es...", context: "Tu nombre", fraseIt: "My name is John, and I am a student.", fraseEs: "Mi nombre es John, y soy un estudiante.", frasePron: "m√°i n√©im is yon, an ai am e sti√∫dent" },
                    { it: "I am from...", pron: "ai am from", es: "Soy de...", context: "Tu origen", fraseIt: "I am from Mexico, but I live here.", fraseEs: "Soy de M√©xico, pero vivo aqu√≠.", frasePron: "ai am from m√©xico, bat ai liv jir" },
                    { it: "I live in...", pron: "ai liv in", es: "Vivo en...", context: "Tu residencia", fraseIt: "I live in a small apartment.", fraseEs: "Vivo en un apartamento peque√±o.", frasePron: "ai liv in e sm√≥l apartament" },
                    { it: "How old are you?", pron: "j√°u ould ar iu", es: "¬øCu√°ntos a√±os tienes?", context: "Pregunta de edad", fraseIt: "I am twenty-five years old.", fraseEs: "Tengo veinticinco a√±os.", frasePron: "ai am tu√©nti f√°iv y√≠rs ould" },
                    { it: "What is your job?", pron: "u√°t is yor yob", es: "¬øCu√°l es tu trabajo?", context: "Pregunta de profesi√≥n", fraseIt: "I am a teacher at the local school.", fraseEs: "Soy profesor en la escuela local.", frasePron: "ai am e t√≠cher at de l√≥ukal skul" }
                ]
            },
            numeros: {
                title: "N√∫meros (1-10)",
                desc: "Esenciales para precios, horas y cantidades.",
                items: [
                    { it: "One", pron: "u√°n", es: "Uno", context: "Para contar", fraseIt: "I need one kilogram of apples.", fraseEs: "Necesito un kilogramo de manzanas.", frasePron: "ai nid u√°n k√≠lougram of √°apls" },
                    { it: "Two", pron: "tu", es: "Dos", context: "Para contar", fraseIt: "They have two cars.", fraseEs: "Ellos tienen dos coches.", frasePron: "dei jav tu kars" },
                    { it: "Three", pron: "zr√≠", es: "Tres", context: "Para contar", fraseIt: "The train arrives in three minutes.", fraseEs: "El tren llega en tres minutos.", frasePron: "de tr√©in arr√°ivs in zr√≠ m√≠nuts" },
                    { it: "Four", pron: "for", es: "Cuatro", context: "Para contar", fraseIt: "The bus leaves at four.", fraseEs: "El autob√∫s sale a las cuatro.", frasePron: "de bas l√≠ivs at for" },
                    { it: "Five", pron: "f√°iv", es: "Cinco", context: "Para contar", fraseIt: "It costs five dollars.", fraseEs: "Cuesta cinco d√≥lares.", frasePron: "it costs f√°iv d√≥lars" },
                    { it: "Six", pron: "s√≠ks", es: "Seis", context: "Para contar", fraseIt: "There are six people waiting.", fraseEs: "Hay seis personas esperando.", frasePron: "der ar s√≠ks p√≠ipl ueitin" },
                    { it: "Seven", pron: "s√©ven", es: "Siete", context: "Para contar", fraseIt: "Today is the seventh day.", fraseEs: "Hoy es el s√©ptimo d√≠a.", frasePron: "tud√©i is de s√©venz d√©i" },
                    { it: "Eight", pron: "√©it", es: "Ocho", context: "Para contar", fraseIt: "I have eight books.", fraseEs: "Tengo ocho libros.", frasePron: "ai jav √©it buks" },
                    { it: "Nine", pron: "n√°in", es: "Nueve", context: "Para contar", fraseIt: "The store closes at nine.", fraseEs: "La tienda cierra a las nueve.", frasePron: "de stor cl√≥uses at n√°in" },
                    { it: "Ten", pron: "ten", es: "Diez", context: "Para contar", fraseIt: "We need ten cups.", fraseEs: "Necesitamos diez tazas.", frasePron: "ui nid ten caps" }
                ]
            },
            colores: {
                title: "Colores Esenciales",
                desc: "Para describir objetos y entornos.",
                items: [
                    { it: "Red", pron: "red", es: "Rojo", context: "My shirt is red.", color: "#EF4444", text: "white", fraseIt: "The red car is fast.", fraseEs: "El coche rojo es r√°pido.", frasePron: "de red car is fast" },
                    { it: "Green", pron: "gr√≠in", es: "Verde", context: "The grass is green.", color: "#22C55E", text: "white", fraseIt: "Green is my favorite color.", fraseEs: "El verde es mi color favorito.", frasePron: "gr√≠in is m√°i feivorit c√≥lor" },
                    { it: "Yellow", pron: "i√©lou", es: "Amarillo", context: "The sun light is yellow.", color: "#FACC15", text: "black", fraseIt: "The banana is yellow.", fraseEs: "El pl√°tano es amarillo.", frasePron: "de banana is i√©lou" },
                    { it: "Black", pron: "blak", es: "Negro", context: "The sky is black at night.", color: "#000000", text: "white", fraseIt: "I bought new black shoes.", fraseEs: "Compr√© zapatos negros nuevos.", frasePron: "ai b√≥ot ni√∫ blak sh√∫s" },
                    { it: "White", pron: "u√°it", es: "Blanco", context: "The snow is white.", color: "#FFFFFF", text: "black", border: true, fraseIt: "She is wearing a a white dress.", fraseEs: "Ella lleva un vestido blanco.", frasePron: "shi is u√©rin e u√°it dres" },
                    { it: "Blue", pron: "blu", es: "Azul", context: "The sky is blue.", color: "#3B82F6", text: "white", fraseIt: "The sea is deep blue.", fraseEs: "El mar es azul oscuro.", frasePron: "de s√≠ is d√≠ip blu" }
                ]
            },
            animales: {
                title: "Animales y Objetos del Hogar",
                desc: "Vocabulario para describir tu entorno cotidiano.",
                items: [
                    { it: "Dog", pron: "dog", es: "Perro", context: "Animal", icon: "üêï", fraseIt: "I have a small dog.", fraseEs: "Tengo un perro peque√±o.", frasePron: "ai jav e sm√≥l dog" },
                    { it: "Cat", pron: "kat", es: "Gato", context: "Animal", icon: "üêà", fraseIt: "The cat is sleeping on the chair.", fraseEs: "El gato est√° durmiendo en la silla.", frasePron: "de kat is sl√≠pin on de cher" },
                    { it: "Bird", pron: "berd", es: "P√°jaro", context: "Animal", icon: "üê¶", fraseIt: "The bird is singing loudly.", fraseEs: "El p√°jaro est√° cantando fuerte.", frasePron: "de berd is s√≠ngin l√°udli" },
                    { it: "Fish", pron: "fish", es: "Pez", context: "Animal", icon: "üêü", fraseIt: "I like to eat fish.", fraseEs: "Me gusta comer pescado.", frasePron: "ai l√°ik tu √≠it fish" },
                    { it: "Table", pron: "t√©ibol", es: "Mesa", context: "Hogar", icon: "ü™ë", fraseIt: "Put the book on the table.", fraseEs: "Pon el libro en la mesa.", frasePron: "put de buk on de t√©ibol" },
                    { it: "Bed", pron: "bed", es: "Cama", context: "Hogar", icon: "üõèÔ∏è", fraseIt: "It's time to go to bed.", fraseEs: "Es hora de ir a la cama.", frasePron: "its t√°im tu gou tu bed" },
                    { it: "Window", pron: "uindou", es: "Ventana", context: "Hogar", icon: "ü™ü", fraseIt: "Please close the window.", fraseEs: "Por favor, cierra la ventana.", frasePron: "pl√≠is cl√≥us de uindou" },
                    { it: "Door", pron: "dor", es: "Puerta", context: "Hogar", icon: "üö™", fraseIt: "The door is open.", fraseEs: "La puerta est√° abierta.", frasePron: "de dor is √≥upen" }
                ]
            },
            viajes: {
                title: "Viajes y Salud",
                desc: "Frases cr√≠ticas para el aeropuerto y emergencias m√©dicas.",
                items: [
                    { it: "Passport", pron: "p√°asport", es: "Pasaporte", context: "Aeropuerto", fraseIt: "I need to renew my passport.", fraseEs: "Necesito renovar mi pasaporte.", frasePron: "ai nid tu rin√≠u m√°i p√°asport" },
                    { it: "Ticket", pron: "t√≠ket", es: "Boleto / Tiquete", context: "Viaje", fraseIt: "Where can I buy a ticket?", fraseEs: "¬øD√≥nde puedo comprar un boleto?", frasePron: "uer kan ai b√°i e t√≠ket?" },
                    { it: "Baggage", pron: "b√°guedz", es: "Equipaje", context: "Aeropuerto", fraseIt: "My baggage is too heavy.", fraseEs: "Mi equipaje est√° muy pesado.", frasePron: "m√°i b√°guedz is tu j√©vi" },
                    { it: "I feel sick", pron: "ai f√≠il s√≠k", es: "Me siento enfermo", context: "Salud", fraseIt: "I feel sick, I should go home.", fraseEs: "Me siento enfermo, deber√≠a ir a casa.", frasePron: "ai f√≠il s√≠k, ai shud gou jom" },
                    { it: "I need a doctor", pron: "ai nid e d√≥ktor", es: "Necesito un doctor", context: "Emergencia", fraseIt: "It is an emergency, I need a doctor.", fraseEs: "Es una emergencia, necesito un doctor.", frasePron: "it is an im√©rdchensi, ai nid e d√≥ktor" },
                    { it: "Help", pron: "jelp", es: "Ayuda", context: "Emergencia", fraseIt: "Help! Call an ambulance!", fraseEs: "¬°Ayuda! ¬°Llama a una ambulancia!", frasePron: "jelp! col an √°mbiulans!" }
                ]
            },
            clima: {
                title: "Clima y el Tiempo",
                desc: "Expresiones meteorol√≥gicas y momentos del d√≠a.",
                items: [
                    { it: "It is cold", pron: "it is c√≥uld", es: "Hace fr√≠o", context: "Clima", icon: "‚ùÑÔ∏è", fraseIt: "It is cold outside today.", fraseEs: "Hace fr√≠o afuera hoy.", frasePron: "it is c√≥uld √°uts√°id tud√©i" },
                    { it: "It is hot", pron: "it is jot", es: "Hace calor", context: "Clima", icon: "‚òÄÔ∏è", fraseIt: "It is too hot to walk.", fraseEs: "Hace demasiado calor para caminar.", frasePron: "it is tu jot tu u√≥k" },
                    { it: "It is raining", pron: "it is r√©inin", es: "Est√° lloviendo", context: "Clima", icon: "üåßÔ∏è", fraseIt: "Take an umbrella, it is raining.", fraseEs: "Lleva un paraguas, est√° lloviendo.", frasePron: "t√©ik an ambr√©la, it is r√©inin" },
                    { it: "In the morning", pron: "in de m√≥rnin", es: "Por la ma√±ana", context: "Tiempo", fraseIt: "I have coffee in the morning.", fraseEs: "Tomo caf√© por la ma√±ana.", frasePron: "ai jav c√≥fi in de m√≥rnin" },
                    { it: "In the evening", pron: "in de √≠vnin", es: "Por la noche", context: "Tiempo", fraseIt: "We will watch a movie in the evening.", fraseEs: "Veremos una pel√≠cula por la noche.", frasePron: "ui u√≠l u√≥tch e m√∫vi in de √≠vnin" }
                ]
            }
        };

        // QUIZ DATA
        function getQuizData() {
            const allVocab = [];
            for (const category in data) {
                if (category !== 'home') {
                    allVocab.push(...data[category].items);
                }
            }

            // Shuffle function (Fisher-Yates)
            function shuffle(array) {
                let currentIndex = array.length, randomIndex;
                while (currentIndex != 0) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex--;
                    [array[currentIndex], array[randomIndex]] = [
                        array[randomIndex], array[currentIndex]];
                }
                return array;
            }

            const shuffledVocab = shuffle(allVocab);
            // Select 10 unique items
            const quizItems = shuffledVocab.slice(0, 10); 

            const quizQuestions = quizItems.map(item => {
                // Correct answer is the Spanish translation (item.es)
                const correct = item.es;
                
                // Get 2 incorrect options
                let incorrectOptions = [];
                // Filter the entire vocabulary pool to exclude the correct answer's Spanish translation
                const pool = allVocab.filter(v => v.es !== correct);
                const shuffledPool = shuffle(pool);
                incorrectOptions = shuffledPool.slice(0, 2).map(v => v.es);

                // Combine and shuffle options (ensure only 3 options total)
                let options = shuffle([...incorrectOptions, correct]);
                
                // Create a question that requires intermediate knowledge (e.g., using the phrase)
                let questionText = `Traduce la palabra: "${item.it}"`;
                
                // 50% chance to make the question harder by asking for the phrase translation
                if (Math.random() < 0.5 && item.fraseIt && item.fraseEs) {
                     questionText = `Si alguien dice: "${item.fraseIt}", ¬øcu√°l es el significado m√°s cercano?`;
                     // We must ensure the correct answer is the phrase translation now
                     const correctPhrase = item.fraseEs;

                     // Re-generate incorrect options that are related or distractors in Spanish
                     let distractors = [];
                     
                     // Use the simple word translation as one distractor
                     distractors.push(item.es); 
                     
                     // Get a random different phrase translation or context from the pool
                     const contextPool = allVocab.filter(v => v.fraseEs !== correctPhrase);
                     const randomDistractor = shuffle(contextPool).slice(0, 1)[0];
                     
                     if (randomDistractor && randomDistractor.fraseEs) {
                         distractors.push(randomDistractor.fraseEs);
                     } else {
                         // Fallback if no phrase is found
                         distractors.push("No se entiende el contexto");
                     }
                     
                     // Ensure unique options
                     let uniqueOptions = [...new Set([correctPhrase, ...distractors])].slice(0, 3);
                     
                     // If we are missing options, fill with simple distractors
                     while(uniqueOptions.length < 3) {
                        const filler = shuffle(allVocab.filter(v => !uniqueOptions.includes(v.es)))[0].es;
                        if(filler) uniqueOptions.push(filler);
                        else break;
                     }


                     return {
                        question: questionText,
                        correctAnswer: correctPhrase,
                        options: shuffle(uniqueOptions)
                     };

                }

                // Default word translation question
                return {
                    question: questionText,
                    correctAnswer: correct,
                    options: options
                };
            });
            return quizQuestions;
        }

        // Application State
        const app = {
            currentView: 'home',
            visitedModules: new Set(),
            quiz: {
                data: [],
                currentQuestionIndex: 0,
                score: 0,
                questionAnswered: false, // Flag to prevent multiple clicks
            },
            
            init: function() {
                this.setupNavigation();
                this.renderChart();
                this.updateProgress();
            },

            setupNavigation: function() {
                const navBtn = document.getElementById('mobile-menu-btn');
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('overlay');

                function toggleMenu() {
                    const isClosed = sidebar.classList.contains('-translate-x-full');
                    if (isClosed) {
                        sidebar.classList.remove('-translate-x-full');
                        overlay.classList.remove('hidden');
                    } else {
                        sidebar.classList.add('-translate-x-full');
                        overlay.classList.add('hidden');
                    }
                }

                navBtn.addEventListener('click', toggleMenu);
                overlay.addEventListener('click', toggleMenu);
            },

            navigate: function(target) {
                // Update Sidebar UI
                document.querySelectorAll('.nav-item').forEach(btn => {
                    if (btn.dataset.target === target) {
                        btn.classList.add('bg-[#3B5998]', 'border-[#3B82F6]');
                        btn.classList.remove('border-transparent');
                    } else {
                        btn.classList.remove('bg-[#3B5998]', 'border-[#3B82F6]');
                        btn.classList.add('border-transparent');
                    }
                });

                // Hide all views
                document.getElementById('view-home').classList.add('hidden');
                document.getElementById('view-cards').classList.add('hidden');
                document.getElementById('view-quiz').classList.add('hidden');
                
                // Show target view
                if (target === 'home') {
                    document.getElementById('view-home').classList.remove('hidden');
                } else if (target === 'quiz') {
                    document.getElementById('view-quiz').classList.remove('hidden');
                    this.startQuiz();
                } else {
                    document.getElementById('view-cards').classList.remove('hidden');
                    this.renderCards(target);
                    
                    // Track Progress
                    this.visitedModules.add(target);
                    this.updateProgress();
                }

                // Close mobile menu if open
                const sidebar = document.getElementById('sidebar');
                if (window.innerWidth < 768 && !sidebar.classList.contains('-translate-x-full')) {
                    sidebar.classList.add('-translate-x-full');
                    document.getElementById('overlay').classList.add('hidden');
                }
            },

            renderCards: function(categoryKey) {
                const category = data[categoryKey];
                document.getElementById('section-title').textContent = category.title;
                document.getElementById('section-desc').textContent = category.desc;
                
                const grid = document.getElementById('cards-grid');
                grid.innerHTML = '';

                category.items.forEach(item => {
                    // Styles for color cards vs standard cards
                    let cardBg = 'bg-white';
                    let textColor = 'text-[#1E3A8A]';
                    let borderColor = 'border-gray-200';
                    let iconHTML = item.icon ? `<div class="text-4xl mb-2">${item.icon}</div>` : '';
                    
                    if (item.color) {
                        cardBg = `style="background-color: ${item.color};"`;
                        textColor = item.text === 'white' ? 'text-white' : 'text-gray-900';
                        if (item.border) borderColor = 'border-gray-300';
                    }

                    const card = document.createElement('div');
                    // Add event listener to flip the card (using the group-hover utility via JS/Tailwind)
                    card.onclick = function() {
                        this.querySelector('.relative').classList.toggle('group-hover:rotate-y-180');
                        this.querySelector('.relative').classList.toggle('rotate-y-180');
                    };

                    card.className = "group h-48 w-full cursor-pointer perspective-1000";
                    
                    // Flip Card Structure
                    card.innerHTML = `
                        <div class="relative h-full w-full text-center transition-transform duration-500 transform-style-3d shadow-lg rounded-xl border ${borderColor}">
                            
                            <!-- Front -->
                            <div class="absolute inset-0 flex flex-col items-center justify-center backface-hidden rounded-xl ${item.color ? '' : 'bg-white'}" ${item.color ? cardBg : ''}>
                                ${iconHTML}
                                <h3 class="text-2xl font-bold ${textColor}">${item.it}</h3>
                                <p class="text-sm font-semibold mt-1 ${item.color && item.text === 'white' ? 'text-white/80' : 'text-gray-600'}">${item.es}</p>
                                <p class="font-mono text-xs mt-1 text-[#3B82F6] uppercase">[${item.pron}]</p>
                                
                                <div class="absolute bottom-2">
                                    <span class="bg-[#1E3A8A] text-white text-xs px-3 py-1 rounded-full shadow-md">
                                        Ver Frase
                                    </span>
                                </div>
                                <div class="absolute bottom-3 right-3 text-gray-300">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                                </div>
                            </div>

                            <!-- Back (Hidden by default, shown on click) -->
                            <div class="absolute inset-0 flex flex-col items-center justify-center backface-hidden rotate-y-180 bg-[#1E3A8A] text-white rounded-xl p-4">
                                <p class="text-xs uppercase tracking-widest text-[#9CA3AF] mb-1">Frase de Ejemplo</p>
                                <p class="text-base italic mb-2 font-light text-center">"${item.fraseIt || item.context}"</p>
                                
                                <!-- Phrase Pronunciation -->
                                <p class="font-mono text-xs mt-1 text-[#3B82F6] uppercase">[${item.frasePron || 'Pronunciaci√≥n no disponible'}]</p>
                                
                                <p class="text-xs uppercase tracking-widest text-[#9CA3AF] mt-2 mb-1">(Significado en Espa√±ol)</p>
                                <p class="text-sm font-semibold text-[#FACC15] text-center">"${item.fraseEs || item.context}"</p>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            },

            updateProgress: function() {
                const total = 7; // Total categories (excluding home and quiz)
                const current = this.visitedModules.size;
                const percent = Math.min(100, Math.round((current / total) * 100));
                
                document.getElementById('progress-bar').style.width = `${percent}%`;
                document.getElementById('progress-text').textContent = `${current}/${total} Temas explorados`;
            },
            
            // --- QUIZ LOGIC ---
            startQuiz: function() {
                this.quiz.data = getQuizData();
                this.quiz.currentQuestionIndex = 0;
                this.quiz.score = 0;
                this.renderQuizQuestion();
            },

            renderQuizQuestion: function() {
                const container = document.getElementById('quiz-container');
                const status = document.getElementById('quiz-status');
                const question = this.quiz.data[this.quiz.currentQuestionIndex];

                if (!question) {
                    this.showQuizResults();
                    return;
                }
                
                this.quiz.questionAnswered = false; // Reset lock for new question

                container.innerHTML = `
                    <p class="text-lg font-bold mb-4">Pregunta ${this.quiz.currentQuestionIndex + 1} de ${this.quiz.data.length}</p>
                    <p class="text-xl mb-6 font-semibold text-[#1E3A8A]">${question.question}</p>
                    <div id="quiz-options-container" class="flex flex-col space-y-3">
                        ${question.options.map((option, index) => `
                            <!-- Onclick now directly calls checkAndAdvance -->
                            <button class="quiz-option" data-option="${option}" onclick="app.checkAndAdvance(this)">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                `;

                status.textContent = `Puntuaci√≥n actual: ${this.quiz.score}`;
            },

            checkAndAdvance: function(element) {
                if (this.quiz.questionAnswered) return; // Prevent multiple clicks

                this.quiz.questionAnswered = true; // Lock the question immediately
                const selectedAnswer = element.dataset.option;
                const currentQ = this.quiz.data[this.quiz.currentQuestionIndex];
                const isCorrect = selectedAnswer === currentQ.correctAnswer;
                
                if (isCorrect) {
                    this.quiz.score++;
                }

                // Apply visual feedback to ALL options
                document.querySelectorAll('#quiz-options-container .quiz-option').forEach(opt => {
                    opt.onclick = null; // Disable further clicks
                    opt.classList.remove('hover:bg-gray-200', 'bg-gray-100');
                    
                    if (opt.dataset.option === currentQ.correctAnswer) {
                        // Correct answer is always green
                        opt.classList.add('bg-green-100', 'border-2', 'border-green-500', 'shadow-lg');
                    } else if (opt.dataset.option === selectedAnswer) {
                        // Incorrect selection is red
                        opt.classList.add('bg-red-100', 'border-2', 'border-red-500', 'shadow-lg');
                    } else {
                        // Unselected options fade out
                        opt.classList.add('bg-gray-50', 'opacity-50'); 
                    }
                });
                
                document.getElementById('quiz-status').textContent = `Puntuaci√≥n: ${this.quiz.score} (${isCorrect ? '¬°Correcto!' : 'Incorrecto'})`;

                // Auto-advance after 1 second
                setTimeout(() => {
                    this.quiz.currentQuestionIndex++;
                    this.renderQuizQuestion();
                }, 1000); 
            },

            showQuizResults: function() {
                const container = document.getElementById('quiz-container');
                const finalScore = this.quiz.score;
                const totalQuestions = this.quiz.data.length;
                const percentage = (finalScore / totalQuestions) * 100;
                
                let feedback = '';
                if (percentage >= 80) {
                    feedback = '¬°Felicidades! Tienes un excelente dominio del vocabulario. ¬°Sigue as√≠!';
                } else if (percentage >= 50) {
                    feedback = '¬°Buen trabajo! Est√°s en el camino correcto. Revisa las tarjetas que fallaste.';
                } else {
                    feedback = 'Necesitas un poco m√°s de pr√°ctica. Vuelve a explorar las tarjetas de vocabulario.';
                }

                container.innerHTML = `
                    <div class="text-center p-6">
                        <h3 class="text-3xl font-bold text-[#1E3A8A] mb-4">Test Completado</h3>
                        <p class="text-2xl mb-4">Tu puntuaci√≥n final es:</p>
                        <p class="text-6xl font-extrabold text-[#3B82F6]">${finalScore}/${totalQuestions}</p>
                        <p class="text-lg text-gray-700 mt-2">(${percentage.toFixed(0)}%)</p>
                        <p class="mt-6 text-xl text-gray-800 font-medium">${feedback}</p>
                        
                        <!-- Nuevo Llamado a la Acci√≥n -->
                        <div class="mt-8 pt-6 border-t border-gray-200">
                            <h4 class="text-2xl font-bold text-[#3B82F6] mb-4">¬°Lleva tu ingl√©s al siguiente nivel!</h4>
                            <p class="text-lg text-gray-700 mb-6">¬øQuieres dominar estas palabras y muchas m√°s con fluidez? Nuestro curso digital te espera.</p>
                            <a href="https://go.hotmart.com/C103156556U" target="_blank" class="block w-full text-center bg-[#3B82F6] text-white font-bold py-3 px-6 rounded-lg shadow-xl hover:bg-[#2563EB] transition-colors text-xl">
                                üìö Iniciar Curso Digital
                            </a>
                        </div>
                        
                        <button onclick="app.startQuiz()" class="mt-4 bg-gray-400 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-gray-500 transition-colors">
                            Reiniciar Test
                        </button>
                    </div>
                `;
                document.getElementById('quiz-next-btn').style.display = 'none';
                document.getElementById('quiz-status').textContent = '';
            },

            // Other functions remain the same
            renderChart: function() {
                const ctx = document.getElementById('contentChart').getContext('2d');
                
                const labels = Object.keys(data).map(k => data[k].title.split(' ')[0]);
                const counts = Object.keys(data).map(k => data[k].items.length);

                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: labels,
                        datasets: [{
                            data: counts,
                            backgroundColor: [
                                '#1E3A8A', '#3B5998', '#607DAA', '#9CA3AF', 
                                '#3B82F6', '#60A5FA', '#93C5FD'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    boxWidth: 12,
                                    font: { size: 10 }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return ` ${context.label}: ${context.raw} t√©rminos`;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

    </script>
    <!-- CONFIRMATION: NO SVG graphics used (only Unicode/CSS). NO Mermaid JS used. -->
</body>
</html>